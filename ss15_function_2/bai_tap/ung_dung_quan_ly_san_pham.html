<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<h2>Add new product</h2>
<label for="nhap"></label>
<input type="text" placeholder="New product" id="nhap">
<button onclick="themSanPham()">Add</button>
<h2>Display all product</h2>
<span>Số lượng sản phẩm: </span><span id="soluong"></span>
<p id=display></p>
</body>
<script>

    let danhSach = ["iphone", "samsung", "nokia"];
    hienThi();

    function themSanPham() {
        let sanPham = document.getElementById("nhap").value;
        if (sanPham !== "") {
            danhSach.push(sanPham);
        } else {
            alert("vui lòng điền tên sản phẩm");
        }
        document.getElementById("nhap").value = "";
        hienThi();
    }

    function hienThi() {
        let tableString = '<table border="1" >\n' +
            '    <tr>\n' +
            '        <th>STT</th>\n' +
            '        <th>Sản Phẩm</th>\n' +
            '        <th>Chỉnh Sửa</th>\n' +
            '        <th>Xóa Sản Phẩm</th>\n' +
            '    </tr>';
        for (let i = 0; i < danhSach.length; i++) {
            tableString += '    <tr>\n' +
                '        <td>' + (i + 1) + '</td>\n' +
                '        <td>' + danhSach[i] + '</td>\n' +
                '        <td><button type="button" onclick="chinhSua(' + i + ')">Edit</button></td>\n' +
                '        <td><button type="button" onclick="xoaSanPham(' + i + ')">Delete</button></td>\n' +
                '    </tr>';

        }
        tableString += '</table>';
        document.getElementById("display").innerHTML = tableString;
        document.getElementById("soluong").innerHTML = danhSach.length + " products";
    }

    function chinhSua(index) {
        danhSach[index] = prompt("Nhập lại tên sản phẩm: " + danhSach[index]);
        hienThi();
    }

    function xoaSanPham(index) {
        let xacNhanXoa = confirm("Bạn có muốn xóa sản phầm này không: " + danhSach[index])
        if (xacNhanXoa) {
            danhSach.splice(index, 1);
        }
        hienThi();
    }
</script>
</html>